@import services.UserService
@import play.api.mvc._
@import views.account.signup.form._
@import be.objectify.deadbolt.scala._

@(userService: UserService, resetForm: Form[PasswordReset])(implicit request: AuthenticatedRequest[Any], messagesApi: MessagesApi, messages: Messages)

@import helper._
@implicitFieldConstructor = @{ FieldConstructor(twitterBootstrapBasic.f) }

@main(userService, messagesApi("playauthenticate.password.reset.title")) {

	<h1>@messagesApi("playauthenticate.password.reset.title")</h1>
	<p>
	@form(routes.Signup.doResetPassword, 'class -> "form-horizontal", 'role -> "form") {

       @if(resetForm.hasGlobalErrors) {

     	<p class="alert alert-danger">
          @resetForm.globalError.get.message
     	</p>
       }

        @input(
   			resetForm("token"),
   			'_label -> "",
   			'_showConstraints -> false

   		) { (id, name, value, args) =>
		    <input type="hidden" value="@value" name="@name" id="@id" @toHtmlArgs(args)>
		}

	   @_passwordPartial(resetForm)

    <button type="submit" class="btn btn-default">@messagesApi("playauthenticate.password.reset.cta")</button>
	}
	</p>
}
